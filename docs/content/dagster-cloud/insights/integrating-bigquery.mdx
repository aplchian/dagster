---
title: "Integrating Direct BigQuery Usage with Dagster Cloud Insights | Dagster Docs"
description: "Integrating BigQuery metrics with Dagster Insights."

platform_type: "cloud"
---

# Integrating Direct BigQuery Usage with Dagster Cloud Insights (Experimental)

<Note>
  This feature is considered <strong>experimental</strong>.
</Note>

BigQuery usage can be integrated into the Dagster Insights UI. If you use the [BigQuery Resource](/\_apidocs/libraries/dagster-gcp#dagster_gcp.BigQueryResource), use this guide to integrate BigQuery metrics into the Insights UI. For instructions on integrating usage of dbt models that run in BigQuery, see [Integrating BigQuery + dbt with Dagster Cloud Insights](/dagster-cloud/insights/integrating-bigquery-and-dbt).

---

## Prerequisites

To complete the steps in this guide, you'll need:

- A Dagster Cloud account on the Pro plan
- Access to the [Dagster Cloud Insights feature](/dagster-cloud/insights)
- BigQuery credentials which have access to the `INFORMATION_SCHEMA.JOBS` table. For more information on granting access to this table, see the [BigQuery documentation](https://cloud.google.com/bigquery/docs/information-schema-jobs).
- To install the following libraries:

  ```shell
  pip install dagster dagster-cloud dagster-gcp
  ```

  **Note**: If you already have `dagster-cloud` installed, **make sure you're using version 1.7.0 or newer**.

---

In order to submit BigQuery usage to the Dagster Cloud Insights API, you need to replace any existing BigQuery resources with <PyObject module="dagster_cloud" object="InsightsBigQueryResource" />. This resource is a drop-in replacement for the <PyObject module="dagster_bigquery" object="BigQueryResource" /> resource, but it also emits usage metrics that is read by Dagster Cloud Insights.

```python
from dagster_cloud.dagster_insights import InsightsBigQueryResource

defs = Definitions(
  resources={
    "bigquery": InsightsBigQueryResource(project="my-project")
  }
)
```

<!-- ![BigQuery credits in the Insights tab of the Dagster UI](/images/dagster-cloud/insights/insights-bigquery.png) -->

<Image
alt="BigQuery metrics in the Insights tab of the Dagster UI"
src="/images/dagster-cloud/insights/insights-bigquery.png"
width={3454}
height={1338}
/>
